<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>otp</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Font Icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="fonts/material-icon/css/material-design-iconic-font.min.css">

    <!-- Main css -->
    <link rel="stylesheet" href="/assests/css/login.css">
</head>
<body>

    



<section class="signup">
    <div class="container">
        <div class="signup-content">
            <div class="signup-form">
               
                <div class="alert text-danger" role="alert">
                  
                </div>  
        
                <div class="alert text-success" role="alert">
                    
                </div>
                <form method="POST" class="register-form" id="register-form" action="/forgototp" >
                    <h3 class="form-title"> Enter OTP</h3>
                    <div class="form-group">
                        <input type="number" class="form-control" placeholder="Enter the otp" name="otp" required>
                        <small class="form-text text-muted text-left"></small>
                        <%= message %>
                    </div>
                    
                    <%= error %>
                    <div class="resend">
                        <small style="color: rgb(0, 0, 0);">
                            Didn't get the OTP? ..
                            <span id="timer" class="text-decoration-none"></span>
                           <p> <a href="/forgot-resend" id="resendLink" class="text-decoration-none text-black">Resend</a></p>
                        </small>
                    </div>
        
                    <div class="mt-3 mb-5">
                        <button class="btn btn-success px-4" type="submit">Verify</button>
                        <div id="countdowntimer" style="color: red; font-size: x-large;">00:30</div>
                    </div>
                </form>
            </div>
            <div class="signup-image">
                <figure><img src="/assests/img/otp.jpg" alt="sign up image"></figure>
                
            </div>
        </div>
    </div>
</section>
<script>var timeleft = 1 / 2 * 60; // For 30 minutes

    var downloadTimer = setInterval(function () {
        var minutes = Math.floor(timeleft / 60);
        var seconds = timeleft % 60;

        // Pad with leading zeros if less than 10
        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;

        // Display updated time left
        document.getElementById("countdowntimer").textContent = minutes + ":" + seconds;

        // Decrease time left by one second
        timeleft--;

        // Clear interval and enable resend button when time runs out
        if (timeleft < 0) {
            clearInterval(downloadTimer);
            document.getElementById("countdowntimer").textContent = "Expired";
            document.getElementById("resendLink").style.pointerEvents = "auto";
            document.getElementById("resendLink").style.opacity = "1";
        }
    }, 1000);
    document.getElementById("resendLink").style.pointerEvents = "none";
    document.getElementById("resendLink").style.opacity = "0.2";
    </script>

</style>
</body>
</html>